<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard Vendeur</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="style-admin-dashboard.css">
  <link rel="stylesheet" href="style-aquarium.css">
</head>
<body class="aquarium-bg">

  <!-- Effet Aquarium -->
  <div class="aquarium-effects">
    <div class="bubble bubble-small-1"></div>
    <div class="bubble bubble-small-2"></div>
    <div class="light-ray light-ray-1"></div>
  </div>

  <div class="admin-container">
    <div class="admin-header">
      <h1>ğŸ“Š Dashboard Vendeur</h1>
      <div class="header-actions">
        <button class="btn-icon" onclick="goHome()" title="Accueil">ğŸ </button>
        <button class="btn-icon btn-danger" onclick="logout()" title="DÃ©connexion">ğŸšª</button>
      </div>
    </div>

    <!-- Statistiques -->
    <div class="stats-container">
      <div class="stat-card">
        <div class="stat-icon">ğŸ“¦</div>
        <div class="stat-info">
          <h3 id="totalOrders">0</h3>
          <p>Commandes Totales</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">â³</div>
        <div class="stat-info">
          <h3 id="pendingOrders">0</h3>
          <p>En Attente</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">âœ…</div>
        <div class="stat-info">
          <h3 id="completedOrders">0</h3>
          <p>LivrÃ©es</p>
        </div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">ğŸ’°</div>
        <div class="stat-info">
          <h3 id="totalRevenue">0 FC</h3>
          <p>Revenu Total</p>
        </div>
      </div>
    </div>

    <!-- Onglets -->
    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab('orders')">ğŸ“¦ Commandes</button>
      <button class="tab-btn" onclick="switchTab('products')">ğŸ›ï¸ Produits</button>
    </div>

    <!-- Contenu Onglet Commandes -->
    <div id="ordersTab" class="tab-content active">
      <!-- Filtres -->
      <div class="filters">
        <input type="text" id="searchOrders" placeholder="ğŸ” Rechercher par nom, tÃ©lÃ©phone..." onkeyup="filterOrders()">
        <select id="filterStatus" onchange="filterOrders()">
          <option value="">Tous les statuts</option>
          <option value="En attente">â³ En attente</option>
          <option value="En cours">ğŸšš En cours</option>
          <option value="LivrÃ©e">âœ… LivrÃ©e</option>
          <option value="AnnulÃ©e">âŒ AnnulÃ©e</option>
        </select>
        <input type="date" id="filterDate" onchange="filterOrders()">
      </div>

      <!-- Tableau Commandes -->
      <div class="table-container">
        <table id="ordersTable">
          <thead>
            <tr>
              <th>Statut</th>
              <th>Nom</th>
              <th>Produit</th>
              <th>QtÃ©</th>
              <th>Total</th>
              <th>Livraison</th>
              <th>TÃ©lÃ©phone</th>
              <th>Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td colspan="9" style="text-align:center; color:#999;">
                â³ Chargement des commandes...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Contenu Onglet Produits -->
    <div id="productsTab" class="tab-content">
      <div class="products-header">
        <h2>Gestion des Produits</h2>
        <button class="btn-primary" onclick="openProductModal()">â• Ajouter Produit</button>
      </div>

      <div class="products-grid" id="productsGrid">
        <div style="text-align:center; padding:40px; color:#999;">
          â³ Chargement des produits...
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Produit -->
  <div id="productModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeProductModal()">&times;</span>
      <h2 id="productModalTitle">Ajouter un Produit</h2>
      <form id="productForm">
        <input type="hidden" id="productId">
        <input type="text" id="productName" placeholder="Nom du produit" required>
        <input type="number" id="productPrice" placeholder="Prix par kg (FC)" min="0" required>
        <input type="text" id="productIcon" placeholder="IcÃ´ne (emoji)" maxlength="2">
        <textarea id="productDescription" placeholder="Description" rows="3"></textarea>
        <label class="checkbox-label">
          <input type="checkbox" id="productActive" checked>
          <span>Produit actif</span>
        </label>
        <div class="modal-buttons">
          <button type="submit" class="btn-confirm">ğŸ’¾ Enregistrer</button>
          <button type="button" class="btn-cancel" onclick="closeProductModal()">âŒ Annuler</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal DÃ©tails Commande -->
  <div id="orderModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeOrderModal()">&times;</span>
      <h2>ğŸ“¦ DÃ©tails de la Commande</h2>
      <div id="orderDetails"></div>
      <div class="modal-buttons">
        <button class="btn-cancel" onclick="closeOrderModal()">Fermer</button>
      </div>
    </div>
  </div>

  <script type="module" src="admin-dashboard.js"></script>
</body>
</html>